{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/home/tmaltus/Documents/BlockChainProjects/dotNetworkBlockInfo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.flags = flags;\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _util = require(\"../util\"); // Copyright 2017-2020 @polkadot/api-derive authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\n\nfunction parseFlags(address, _ref) {\n  var _ref2 = _slicedToArray(_ref, 5),\n      electionsMembers = _ref2[0],\n      councilMembers = _ref2[1],\n      technicalCommitteeMembers = _ref2[2],\n      societyMembers = _ref2[3],\n      sudoKey = _ref2[4];\n\n  var isIncluded = function isIncluded(id) {\n    return address ? id.toString() === address.toString() : false;\n  };\n\n  return {\n    isCouncil: ((electionsMembers === null || electionsMembers === void 0 ? void 0 : electionsMembers.map(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 1),\n          id = _ref4[0];\n\n      return id;\n    })) || councilMembers || []).some(isIncluded),\n    isSociety: (societyMembers || []).some(isIncluded),\n    isSudo: (sudoKey === null || sudoKey === void 0 ? void 0 : sudoKey.toString()) === (address === null || address === void 0 ? void 0 : address.toString()),\n    isTechCommittee: (technicalCommitteeMembers || []).some(isIncluded)\n  };\n}\n/**\n * @name info\n * @description Returns account membership flags\n */\n\n\nfunction flags(instanceId, api) {\n  return (0, _util.memo)(instanceId, function (address) {\n    var _api$query$councilSec, _api$query$council, _api$query$technicalC, _api$query$society, _api$query$sudo;\n\n    var councilSection = api.query.electionsPhragmen ? 'electionsPhragmen' : 'elections';\n    return (0, _rxjs.combineLatest)([address && ((_api$query$councilSec = api.query[councilSection]) === null || _api$query$councilSec === void 0 ? void 0 : _api$query$councilSec.members) ? api.query[councilSection].members() : (0, _rxjs.of)(undefined), address && ((_api$query$council = api.query.council) === null || _api$query$council === void 0 ? void 0 : _api$query$council.members) ? api.query.council.members() : (0, _rxjs.of)([]), address && ((_api$query$technicalC = api.query.technicalCommittee) === null || _api$query$technicalC === void 0 ? void 0 : _api$query$technicalC.members) ? api.query.technicalCommittee.members() : (0, _rxjs.of)([]), address && ((_api$query$society = api.query.society) === null || _api$query$society === void 0 ? void 0 : _api$query$society.members) ? api.query.society.members() : (0, _rxjs.of)([]), address && ((_api$query$sudo = api.query.sudo) === null || _api$query$sudo === void 0 ? void 0 : _api$query$sudo.key) ? api.query.sudo.key() : (0, _rxjs.of)(undefined)]).pipe((0, _operators.map)(function (result) {\n      return parseFlags(address, result);\n    }));\n  });\n}","map":{"version":3,"sources":["/home/tmaltus/Documents/BlockChainProjects/dotNetworkBlockInfo/node_modules/@polkadot/api-derive/accounts/flags.js"],"names":["Object","defineProperty","exports","value","flags","_rxjs","require","_operators","_util","parseFlags","address","electionsMembers","councilMembers","technicalCommitteeMembers","societyMembers","sudoKey","isIncluded","id","toString","isCouncil","map","some","isSociety","isSudo","isTechCommittee","instanceId","api","memo","_api$query$councilSec","_api$query$council","_api$query$technicalC","_api$query$society","_api$query$sudo","councilSection","query","electionsPhragmen","combineLatest","members","of","undefined","council","technicalCommittee","society","sudo","key","pipe","result"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.flags = flags;\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _util = require(\"../util\");\n\n// Copyright 2017-2020 @polkadot/api-derive authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nfunction parseFlags(address, [electionsMembers, councilMembers, technicalCommitteeMembers, societyMembers, sudoKey]) {\n  const isIncluded = id => address ? id.toString() === address.toString() : false;\n\n  return {\n    isCouncil: ((electionsMembers === null || electionsMembers === void 0 ? void 0 : electionsMembers.map(([id]) => id)) || councilMembers || []).some(isIncluded),\n    isSociety: (societyMembers || []).some(isIncluded),\n    isSudo: (sudoKey === null || sudoKey === void 0 ? void 0 : sudoKey.toString()) === (address === null || address === void 0 ? void 0 : address.toString()),\n    isTechCommittee: (technicalCommitteeMembers || []).some(isIncluded)\n  };\n}\n/**\n * @name info\n * @description Returns account membership flags\n */\n\n\nfunction flags(instanceId, api) {\n  return (0, _util.memo)(instanceId, address => {\n    var _api$query$councilSec, _api$query$council, _api$query$technicalC, _api$query$society, _api$query$sudo;\n\n    const councilSection = api.query.electionsPhragmen ? 'electionsPhragmen' : 'elections';\n    return (0, _rxjs.combineLatest)([address && ((_api$query$councilSec = api.query[councilSection]) === null || _api$query$councilSec === void 0 ? void 0 : _api$query$councilSec.members) ? api.query[councilSection].members() : (0, _rxjs.of)(undefined), address && ((_api$query$council = api.query.council) === null || _api$query$council === void 0 ? void 0 : _api$query$council.members) ? api.query.council.members() : (0, _rxjs.of)([]), address && ((_api$query$technicalC = api.query.technicalCommittee) === null || _api$query$technicalC === void 0 ? void 0 : _api$query$technicalC.members) ? api.query.technicalCommittee.members() : (0, _rxjs.of)([]), address && ((_api$query$society = api.query.society) === null || _api$query$society === void 0 ? void 0 : _api$query$society.members) ? api.query.society.members() : (0, _rxjs.of)([]), address && ((_api$query$sudo = api.query.sudo) === null || _api$query$sudo === void 0 ? void 0 : _api$query$sudo.key) ? api.query.sudo.key() : (0, _rxjs.of)(undefined)]).pipe((0, _operators.map)(result => parseFlags(address, result)));\n  });\n}"]},"metadata":{},"sourceType":"script"}