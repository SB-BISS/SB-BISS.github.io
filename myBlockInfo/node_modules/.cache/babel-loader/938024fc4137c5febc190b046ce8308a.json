{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = formatElapsed;\n\nvar _bn = _interopRequireDefault(require(\"bn.js\"));\n\nvar _toBn = _interopRequireDefault(require(\"../is/toBn\")); // Copyright 2017-2020 @polkadot/ui-util authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\n\nfunction getValue(value) {\n  if ((0, _toBn.default)(value)) {\n    return getValue(value.toBn());\n  } else if (value instanceof Date) {\n    return getValue(value.getTime());\n  } else if (value instanceof _bn.default) {\n    return getValue(value.toNumber());\n  }\n\n  return value || 0;\n}\n\nfunction formatValue(elapsed) {\n  if (elapsed < 15) {\n    return `${elapsed.toFixed(1)}s`;\n  } else if (elapsed < 60) {\n    return `${elapsed | 0}s`;\n  } else if (elapsed < 3600) {\n    return `${elapsed / 60 | 0}m`;\n  }\n\n  return `${elapsed / 3600 | 0}h`;\n}\n\nfunction formatElapsed(now, value) {\n  const tsNow = now && now.getTime() || 0;\n  const tsValue = getValue(value);\n\n  if (tsNow && tsValue) {\n    const elapsed = Math.max(Math.abs(tsNow - tsValue), 0) / 1000;\n    return formatValue(elapsed);\n  }\n\n  return '0.0s';\n}","map":{"version":3,"sources":["/home/tmaltus/Documents/BlockChainProjects/dotNetworkBlockInfo/node_modules/@polkadot/util/format/formatElapsed.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","formatElapsed","_bn","_toBn","getValue","toBn","Date","getTime","toNumber","formatValue","elapsed","toFixed","now","tsNow","tsValue","Math","max","abs"],"mappings":"AAAA;;AAEA,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAAD,CAApC;;AAEAC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkBC,aAAlB;;AAEA,IAAIC,GAAG,GAAGR,sBAAsB,CAACC,OAAO,CAAC,OAAD,CAAR,CAAhC;;AAEA,IAAIQ,KAAK,GAAGT,sBAAsB,CAACC,OAAO,CAAC,YAAD,CAAR,CAAlC,C,CAEA;AACA;;;AACA,SAASS,QAAT,CAAkBL,KAAlB,EAAyB;AACvB,MAAI,CAAC,GAAGI,KAAK,CAACH,OAAV,EAAmBD,KAAnB,CAAJ,EAA+B;AAC7B,WAAOK,QAAQ,CAACL,KAAK,CAACM,IAAN,EAAD,CAAf;AACD,GAFD,MAEO,IAAIN,KAAK,YAAYO,IAArB,EAA2B;AAChC,WAAOF,QAAQ,CAACL,KAAK,CAACQ,OAAN,EAAD,CAAf;AACD,GAFM,MAEA,IAAIR,KAAK,YAAYG,GAAG,CAACF,OAAzB,EAAkC;AACvC,WAAOI,QAAQ,CAACL,KAAK,CAACS,QAAN,EAAD,CAAf;AACD;;AAED,SAAOT,KAAK,IAAI,CAAhB;AACD;;AAED,SAASU,WAAT,CAAqBC,OAArB,EAA8B;AAC5B,MAAIA,OAAO,GAAG,EAAd,EAAkB;AAChB,WAAQ,GAAEA,OAAO,CAACC,OAAR,CAAgB,CAAhB,CAAmB,GAA7B;AACD,GAFD,MAEO,IAAID,OAAO,GAAG,EAAd,EAAkB;AACvB,WAAQ,GAAEA,OAAO,GAAG,CAAE,GAAtB;AACD,GAFM,MAEA,IAAIA,OAAO,GAAG,IAAd,EAAoB;AACzB,WAAQ,GAAEA,OAAO,GAAG,EAAV,GAAe,CAAE,GAA3B;AACD;;AAED,SAAQ,GAAEA,OAAO,GAAG,IAAV,GAAiB,CAAE,GAA7B;AACD;;AAED,SAAST,aAAT,CAAuBW,GAAvB,EAA4Bb,KAA5B,EAAmC;AACjC,QAAMc,KAAK,GAAGD,GAAG,IAAIA,GAAG,CAACL,OAAJ,EAAP,IAAwB,CAAtC;AACA,QAAMO,OAAO,GAAGV,QAAQ,CAACL,KAAD,CAAxB;;AAEA,MAAIc,KAAK,IAAIC,OAAb,EAAsB;AACpB,UAAMJ,OAAO,GAAGK,IAAI,CAACC,GAAL,CAASD,IAAI,CAACE,GAAL,CAASJ,KAAK,GAAGC,OAAjB,CAAT,EAAoC,CAApC,IAAyC,IAAzD;AACA,WAAOL,WAAW,CAACC,OAAD,CAAlB;AACD;;AAED,SAAO,MAAP;AACD","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = formatElapsed;\n\nvar _bn = _interopRequireDefault(require(\"bn.js\"));\n\nvar _toBn = _interopRequireDefault(require(\"../is/toBn\"));\n\n// Copyright 2017-2020 @polkadot/ui-util authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nfunction getValue(value) {\n  if ((0, _toBn.default)(value)) {\n    return getValue(value.toBn());\n  } else if (value instanceof Date) {\n    return getValue(value.getTime());\n  } else if (value instanceof _bn.default) {\n    return getValue(value.toNumber());\n  }\n\n  return value || 0;\n}\n\nfunction formatValue(elapsed) {\n  if (elapsed < 15) {\n    return `${elapsed.toFixed(1)}s`;\n  } else if (elapsed < 60) {\n    return `${elapsed | 0}s`;\n  } else if (elapsed < 3600) {\n    return `${elapsed / 60 | 0}m`;\n  }\n\n  return `${elapsed / 3600 | 0}h`;\n}\n\nfunction formatElapsed(now, value) {\n  const tsNow = now && now.getTime() || 0;\n  const tsValue = getValue(value);\n\n  if (tsNow && tsValue) {\n    const elapsed = Math.max(Math.abs(tsNow - tsValue), 0) / 1000;\n    return formatValue(elapsed);\n  }\n\n  return '0.0s';\n}"]},"metadata":{},"sourceType":"script"}